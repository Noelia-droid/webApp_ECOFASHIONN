webAppEcoFashion/
â”‚
â”œâ”€â”€ ğŸ“ backend/                    â† EL CEREBRO (Servidor)
â”‚   â”œâ”€â”€ ğŸ“ config/
â”‚   â”‚   â”œâ”€â”€ database.js
â”‚   â”‚   â”œâ”€â”€ rbac.js
â”‚   â”‚   |â”€â”€ passport.js            â† ConfiguraciÃ³n de Google OAuth
â”‚   â”‚   â”œâ”€â”€ security.js          â† â­ NUEVO: Config de Helmet
â”‚   â”‚   â””â”€â”€ hashids.js           â† â­ NUEVO: Config de Hashids
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.js    â† Usa Argon2 aquÃ­
â”‚   â”‚   â”œâ”€â”€ productController.js
â”‚   â”‚   â””â”€â”€ orderController.js
|   |
â”‚   â”œâ”€â”€ ğŸ“ middleware/             â† Guardias de seguridad
â”‚   â”‚   â””â”€â”€ auth.js                â† Verifica si usuario tiene permiso
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/
â”‚   â”‚   â”œâ”€â”€ user.js              â† Argon2 para passwords
â”‚   â”‚   â”œâ”€â”€ product.js
â”‚   â”‚   â”œâ”€â”€ rol.js
â”‚   â”‚   â””â”€â”€ order.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js    
â”‚   â”‚   â”œâ”€â”€ orders.js
â”‚   â”‚   â”œâ”€â”€ products.js
â”‚   â”‚   â””â”€â”€ users.js
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/
â”‚   â”‚   â”œâ”€â”€ argon2.js    â† Usar Argon2 aquÃ­
â”‚   â”‚   â”œâ”€â”€ hashids.js
â”‚   â”‚   â””â”€â”€ jwt.js
â”‚   â”‚
â”‚   â””â”€â”€ server.js                  â† ARCHIVO PRINCIPAL del servidor
â”‚
â”œâ”€â”€ ğŸ“ frontend/                   â† LA CARA (Lo que ve el usuario)
â”‚   â”œâ”€â”€ ğŸ“ pages/                  â† PÃ¡ginas HTML
â”‚   â”‚   â”œâ”€â”€ index.html             â† PÃ¡gina de inicio
â”‚   â”‚   â”œâ”€â”€ login.html             â† Formulario de login
â”‚   â”‚   â”œâ”€â”€ register.html          â† Formulario de registro
â”‚   â”‚   â””â”€â”€ dashboard_USER.html    â† Panel del usuario
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ js/                     â† Scripts JavaScript
â”‚   â”‚   â””â”€â”€ config.js              â† ConexiÃ³n con el backend
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ css/                    â† Estilos
â”‚   â”‚   â”œâ”€â”€ styles.css
â”‚   â”‚   â”œâ”€â”€ login.css
â”‚   â”‚   â””â”€â”€ register.css
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ images/                 â† ImÃ¡genes, logos
â”‚
â”œâ”€â”€ ğŸ“ node_modules/                â† Herramientas prestadas
â”œâ”€â”€ ğŸ“„ .env                        â† Variables secretas (NUNCA subir a Git)
â”œâ”€â”€ ğŸ“„ .gitignore                  â† QuÃ© archivos NO subir a GitHub
â”œâ”€â”€ ğŸ“„ package.json                â† Lista de dependencias del proyecto
â””â”€â”€ ğŸ“„ README.md                   â† DocumentaciÃ³n del proyecto

## ğŸ”‘ 5. CONCEPTOS CLAVE

##LIBRERÃAS
---------------------------------------------------------------------------------------------------------------------
- Argon2: Esta la utilizaremos para hashing de contraseÃ±as con salt automÃ¡tico integrado que hace que las contraseÃ±as no se almacenen en texto plano en el login. Se aplicarÃ¡ en el login-backend. Se puede entender como una librerÃ­a de node.js que proporciona algoritmo, ya que esta se implementa de forma de biblioteca.
 

- Helmet: Es una librerÃ­a de node.js que ayudarÃ¡ a proteger la web app configurando varios encabezados/headers HTTP para la seguridad de toda la pÃ¡gina. Se implementarÃ¡ en el backend.
 

- Hashids: Se implementarÃ¡ en el backend (en tÃ©rminos de node.js). Esta se utilizarÃ¡ para encriptar URL e IPs. EJEMPLO:
---------------------------------------------------------------------------------------------------------------------

### **Â¿QuÃ© es una SESIÃ“N?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cuando haces login, el servidor    â”‚
â”‚  guarda tus datos en una "sesiÃ³n"   â”‚
â”‚  que dura 24 horas.                 â”‚
â”‚                                     â”‚      
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Â¿QuÃ© es OAUTH?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  En vez de crear otra contraseÃ±a,   â”‚
â”‚  Google verifica tu identidad y     â”‚
â”‚  le dice a tu app: "SÃ­, es ella"    â”‚
â”‚                                     â”‚
â”‚  Tu app NUNCA ve tu contraseÃ±a      â”‚
â”‚  de Google.                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Â¿QuÃ© es una API?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API = Forma de comunicaciÃ³n        â”‚
â”‚                                     â”‚
â”‚  Frontend dice: "Dame datos usuario"â”‚
â”‚  Backend responde: {name: "MarÃ­a"}  â”‚
â”‚                                     â”‚
â”‚  Como pedir comida en un restaurant â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ¬ FLUJO VISUAL COMPLETO CON MIDDLEWARE
```
USUARIO intenta acceder a /admin/panel
   â”‚
   â–¼
1. Request llega a server.js
   â”‚
   â”œâ”€> app.get('/admin/panel', isAdmin, handler)
   â”‚                            â†‘
   â”‚                            GUARDIA
   â–¼
2. MIDDLEWARE isAdmin() se ejecuta PRIMERO
   â”‚
   â”œâ”€> Â¿req.isAuthenticated()? 
   â”‚   â”‚
   â”‚   â”œâ”€ NO â†’ âŒ Error 403 "Acceso denegado"
   â”‚   â”‚
   â”‚   â””â”€ SÃ â†’ ContinÃºa â†“
   â”‚
   â”œâ”€> Â¿req.user.role === 'admin'?
   â”‚   â”‚
   â”‚   â”œâ”€ NO â†’ âŒ Error 403 "Acceso denegado"
   â”‚   â”‚
   â”‚   â””â”€ SÃ â†’ âœ… ContinÃºa â†“
   â”‚
   â–¼
3. next() â†’ Ejecutar handler (mostrar panel)
   â”‚
   â–¼
4. Respuesta enviada al usuario

## ğŸ›¡ï¸ NIVELES DE SEGURIDAD IMPLEMENTADOS
```
NIVEL 1: Helmet
â”œâ”€ Previene XSS
â”œâ”€ Previene Clickjacking
â””â”€ Oculta info del servidor

NIVEL 2: Rate Limiting
â”œâ”€ Max 5 intentos login / 15 min
â””â”€ Max 3 registros / hora

NIVEL 3: Argon2
â”œâ”€ Passwords nunca en texto plano
â”œâ”€ Salt automÃ¡tico Ãºnico
â””â”€ Resistente a ataques GPU

NIVEL 4: Hashids
â”œâ”€ IDs no secuenciales
â”œâ”€ URLs no predecibles
â””â”€ Previene enumeraciÃ³n